!function(){"use strict";angular.module("adf.widget.news",["adf.provider"]).value("newsServiceUrl","https://ajax.googleapis.com/ajax/services/feed/load?v=1.0&callback=JSON_CALLBACK&q=").config(["dashboardProvider",function(e){e.widget("news",{title:"News",description:"Displays a RSS/Atom feed",templateUrl:"{widgetsPath}/news/src/view.html",controller:"newsCtrl",resolve:{feed:["newsService","config",function(e,t){return t.url?e.get(t.url):void 0}]},edit:{templateUrl:"{widgetsPath}/news/src/edit.html"}})}]).service("newsService",["$q","$http","newsServiceUrl",function(e,t,r){return{get:function(n){var l=e.defer();return t.jsonp(r+encodeURIComponent(n)).success(function(e){e&&e.responseData&&e.responseData.feed?l.resolve(e.responseData.feed):l.reject()}).error(function(){l.reject()}),l.promise}}}]).controller("newsCtrl",["$scope","feed",function(e,t){e.feed=t}]),angular.module("adf.widget.news").run(["$templateCache",function(e){e.put("{widgetsPath}/news/src/edit.html",'<form role=form><div class=form-group><label for=url>Feed url</label> <input type=url class=form-control id=url ng-model=config.url placeholder="Enter feed url"></div></form>'),e.put("{widgetsPath}/news/src/view.html",'<div class=news><div class="alert alert-info" ng-if=!feed>Please insert a feed url in the widget configuration</div><h4><a ng-href={{feed.link}} target=_blank>{{feed.title}}</a></h4><ul><li ng-repeat="entry in feed.entries"><a ng-href={{entry.link}} target=_blank>{{entry.title}}</a></li></ul></div>')}])}(window);